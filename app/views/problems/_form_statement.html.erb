<%= form_tag("/contests/#{@problem.contest.path}/#{@problem.order}/update_statement", :method => :put, :multipart => true) do %>
  <%= hidden_field_tag :contest_id, @problem.contest.id %>
  <%= hidden_field_tag :problem_order, @problem.order %>
  

  <%= text_field_tag :title, 
      (@problem.statement['title'].nil?) ? nil : @problem.statement['title'], 
      :placeholder=>"Title here.." %>

  <div class="field">
    <%= text_area_tag :text, 
      (@problem.statement['text'].nil?) ? nil : @problem.statement['text'].html_safe, 
      :class => 'field span9 tinymce', 
      :placeholder=>"Statement text here..",
      :style => "width:100%;" %>
    <%= tinymce %>
  </div>
  <br />

  <div class="control-group">
    <label class="control-label" for="statement">Upload statement file</label>
    <div class="controls">
      <%= file_field_tag 'statement' %>
      <% if not @problem.statement['file_link'].blank? %>
        <span class="label label-success"> 
          <%= File.basename(@problem.statement['file_link']) %>
        </span>
      <% end %>
    </div>
  </div>

  <% 3.times do |i| %>
    <div class="form-inline">
      <% din =(@problem.statement['inputs'].nil? || @problem.statement['inputs'][i].nil?) ? nil : @problem.statement['inputs'][i].html_safe %>
      <% dout = (@problem.statement['outputs'].nil? || @problem.statement['outputs'][i].nil?) ? nil : @problem.statement['outputs'][i].html_safe %>
      <%= text_area_tag "input#{i}", din,
          :rows => 5,
          :placeholder=>"Input #{i+1}" %>
      <%= text_area_tag "output#{i}", dout, 
          :rows => 5,
          :placeholder=>"Output #{i+1}" %>
    </div>
  <% end %>

  <div class="form-actions">
  <%= submit_tag("Save", :class => "btn") %>
  </div>

<% end %>