<%= form_for(@problem, :multipart => true) do |f| %>
  <%= hidden_field_tag :contest_id, @problem.contest.id %>
  <%= hidden_field_tag :problem_order, @problem.order %>
  <%= f.hidden_field :order %>

  
  <%= f.label :time_limit, "Time limit", :class => 'control-label' %>
  <%= f.number_field :time_limit, :in => 1..5, :class => 'span1' %>

  <%= f.label :memory_limit , "Memory limit" %>
  <%= f.number_field :memory_limit, :in => 16..512, :step => 16, :class => 'span1'  %>

  <table class="table table-bordered" style="widht:100;">
    <tbody>
      <tr>

        <td>
          <div>
            <label class="checkbox">
              <%= f.radio_button :checker_mode, 0 %>
              System
            </label>

            <% if not @problem.order==0 then %>
            <label class="checkbox">
              <%= f.radio_button :checker_mode, 1, 
                  :disabled => (@problem.template.checker_path.blank?) ? true : false %>
              Template
            </label>
            <% end %>

            <label class="checkbox">
              <%= f.radio_button :checker_mode, 2 %>
              Own
            </label>
          </div>
        </td>

        <td>
          <%= f.label :checker, "Checker" %>
          <%= f.select :checker, ["cmp_file", "cmp_file_nospace", "cmp_long_long", "cmp_long_long_seq",
                                  "cmp_long_double", "cmp_long_double_seq", "cmp_sexpr", "cmp_yesno"] %>
        </td>

        <% if not @problem.order==0 then %>
        <td>
          view code here..
        </td>
        <% end %>

        <td>
          <%= f.file_field 'uploaded_checker' %>
          <br />
          <%= (@problem.checker_path.blank?) ? 'empty' : @problem.checker_path %>
        </td>
    </tbody>
  </table>

  <div class="actions">
    <%= f.submit "Update", :class => "btn" %>
  </div>
<% end %>


<%= link_to '<i class="icon-pencil icon-white"></i> Edit statement'.html_safe, 
    contest_path(@contest.path)+"/#{@problem.order}/edit_statement", :class => 'btn btn-info' %>