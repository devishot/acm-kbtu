<%= render "contest" %>

<!-- <p>Last success by
  <%#= @last_success.participant.user.name %>
  at <%#= @last_success.created_at.to_s(:long) %>
  . Problem <%#= @last_success.problem.order %>
</p>
 --><table class="table table-striped table-bordered table-hover table-condensed" >
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <% for i in 1..@contest.problems_count %>
        <th><%= i%></th>
      <% end %>
      <th>Score</th>
      <th>Penalty</th>
    </tr>
  </thead>

  <tbody>
    <% @contest.participants.each do |participant| participant.summarize %>
      <tr>
        <td> <%= participant.path %> </td>
        <td> <%= participant.user.name %> </td>
        <% for i in 1..@contest.problems_count %>
        <td><%= 
          if participant.a[i] > 0
            "+"+participant.a[i].to_s 
          elsif participant.a[i] < 0
            participant.a[i].to_s
          end
        %></td>
        <% end %>
        <td><%= participant.point %></td>
        <td><%= participant.penalty %></td>
      </tr>
    <% end %>
  </tbody>
</table>